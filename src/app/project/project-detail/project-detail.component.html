<section class="mat-typography">

  <div class="hero project" [ngStyle]="{'background-image': 'url(' + project.image + ')'}">
    <div class="grid">
      <div class="column" ngClass.gt-xs="grid-50" ngClass.lt-sm="grid-100">

      </div>
      <div class="column" ngClass.gt-xs="grid-50" ngClass.lt-sm="grid-100">

      </div>
    </div>
  </div>

  <div class="view">
    <div class="contents">
      <button mat-raised-button (click)="goBack()"><mat-icon>arrow_back</mat-icon> Back to Tribe</button>
      <h1>{{project.title}}</h1>
      <p class="body-2">{{project.type}}</p>
      <div class="grid">
        <div class="column project-intro" ngClass.gt-xs="grid-50" ngClass.lt-sm="grid-100">
          <h2>Purpose</h2>
          <h3>{{project.description}}</h3>
        </div>
        <div class="column" ngClass.gt-xs="grid-50" ngClass.lt-sm="grid-100">

          <h2>Goal: <b>{{project.tribe.configQuorum }}% membership participation</b></h2>
          <mat-progress-bar
              [color]="'accent'"
              [mode]="'determinate'"
              [value]="(project.supported.length / (project.tribe | quorum)) * 100"
              >
          </mat-progress-bar>
          <h2> {{(project.tribe | quorum)}} needed of {{project.tribe.members.length}} total members  <span class="raised-amount">currently ({{project.supported.length}} of {{(project.tribe | quorum)}})</span></h2>
          <p *ngIf="(project.tribe | quorum) - project.supported.length" >({{(project.tribe | quorum) - project.supported.length}})  Needed</p>
          <p *ngIf="!((project.tribe | quorum) - project.supported.length)" >Project Supported</p>
          <div *ngIf="(project.tribe | quorum) - project.supported.length" class="actions">
            <button mat-raised-button color="accent" (click)="vote()">VOTE</button>
          </div>
        </div>
      </div>
    </div><!-- /contents -->
  </div><!-- /view -->

</section><!-- /page -->
